import { Internationalization, NumberFormatOptions, DateFormatOptions, L10n } from '@syncfusion/ej2-base';
import { DataManager } from '@syncfusion/ej2-data';
import { Sorting, SummaryTypes, FilterType, Operators, Condition } from './types';
import { DateGroup, GroupType, ProviderType } from './types';
import { HeaderCollection } from '../common';
/**
 * PivotEngine is used to manipulate the relational or Multi-Dimensional data as pivoting values.
 */
/** @hidden */
export declare class PivotEngine {
    /** @hidden */
    globalize: Internationalization;
    /** @hidden */
    fieldList: IFieldListOptions;
    /** @hidden */
    pivotValues: IPivotValues;
    /** @hidden */
    aggregatedValueMatrix: IMatrix2D;
    /** @hidden */
    headerContent: IGridValues;
    /** @hidden */
    valueContent: IGridValues;
    /** @hidden */
    fields: string[];
    /** @hidden */
    rows: IFieldOptions[];
    /** @hidden */
    columns: IFieldOptions[];
    /** @hidden */
    values: IFieldOptions[];
    /** @hidden */
    filters: IFieldOptions[];
    /** @hidden */
    excludeFields: string[];
    /** @hidden */
    groups: IGroupSettings[];
    /** @hidden */
    isMutiMeasures: boolean;
    /** @hidden */
    alwaysShowValueHeader: boolean;
    /** @hidden */
    drilledMembers: IDrillOptions[];
    /** @hidden */
    formats: IFormatSettings[];
    /** @hidden */
    isExpandAll: boolean;
    /** @hidden */
    enableSort: boolean;
    /** @hidden */
    showSubTotals: boolean;
    /** @hidden */
    showRowSubTotals: boolean;
    /** @hidden */
    showColumnSubTotals: boolean;
    /** @hidden */
    showGrandTotals: boolean;
    /** @hidden */
    showRowGrandTotals: boolean;
    /** @hidden */
    showHeaderWhenEmpty: boolean;
    /** @hidden */
    showColumnGrandTotals: boolean;
    /** @hidden */
    pageSettings: IPageSettings;
    /** @hidden */
    filterMembers: number[];
    /** @hidden */
    formatFields: {
        [key: string]: IFormatSettings;
    };
    /** @hidden */
    dateFormatFunction: {
        [key: string]: {
            exactFormat: Function;
            fullFormat: Function;
        };
    };
    /** @hidden */
    calculatedFieldSettings: ICalculatedFieldSettings[];
    /** @hidden */
    calculatedFields: {
        [key: string]: ICalculatedFields;
    };
    /** @hidden */
    calculatedFormulas: {
        [key: string]: Object;
    };
    /** @hidden */
    valueSortSettings: IValueSortSettings;
    /** @hidden */
    isEngineUpdated: boolean;
    /** @hidden */
    savedFieldList: IFieldListOptions;
    /** @hidden */
    valueAxis: number;
    /** @hidden */
    saveDataHeaders: {
        [key: string]: IAxisSet[];
    };
    /** @hidden */
    columnCount: number;
    /** @hidden */
    rowCount: number;
    /** @hidden */
    colFirstLvl: number;
    /** @hidden */
    rowFirstLvl: number;
    /** @hidden */
    rowStartPos: number;
    /** @hidden */
    colStartPos: number;
    /** @hidden */
    enableValueSorting: boolean;
    /** @hidden */
    headerCollection: HeaderCollection;
    /** @hidden */
    isValueFilterEnabled: boolean;
    /** @hidden */
    isEmptyData: boolean;
    /** @hidden */
    emptyCellTextContent: string;
    /** @hidden */
    isHeaderAvail: boolean;
    /** @hidden */
    isDrillThrough: boolean;
    /** @hidden */
    rMembers: IAxisSet[];
    /** @hidden */
    cMembers: IAxisSet[];
    /** @hidden */
    groupingFields: {
        [key: string]: string;
    };
    private allowValueFilter;
    private isValueFiltered;
    private isValueFiltersAvail;
    private valueSortData;
    private valueFilteredData;
    private filterFramedHeaders;
    private valueMatrix;
    private indexMatrix;
    private memberCnt;
    private pageInLimit;
    private endPos;
    private removeCount;
    private colHdrBufferCalculated;
    private colValuesLength;
    private rowValuesLength;
    private slicedHeaders;
    private fieldFilterMem;
    private filterPosObj;
    private selectedHeaders;
    private rawIndexObject;
    private isEditing;
    /** @hidden */
    data: IDataSet[];
    /** @hidden */
    actualData: IDataSet[];
    /** @hidden */
    groupRawIndex: {
        [key: number]: number[];
    };
    private allowDataCompression;
    private dataSourceSettings;
    private frameHeaderObjectsCollection;
    private headerObjectsCollection;
    private localeObj;
    private getValueCellInfo;
    private fieldsType;
    private columnKeys;
    private fieldDrillCollection;
    private customRegex;
    private formatRegex;
    renderEngine(dataSource?: IDataOptions, customProperties?: ICustomProperties, fn?: Function): void;
    private getGroupedRawData;
    private getGroupData;
    private frameData;
    private getRange;
    private getFormattedFields;
    private getFieldList;
    private updateFieldList;
    private updateTreeViewData;
    private getCalculatedField;
    private validateFilters;
    private fillFieldMembers;
    private generateValueMatrix;
    private updateSortSettings;
    private updateFilterMembers;
    private getFilters;
    private isValidFilterField;
    private applyLabelFilter;
    private getLabelFilterMembers;
    private getDateFilterMembers;
    private validateFilterValue;
    private frameFilterList;
    private updateFilter;
    private applyValueFiltering;
    private getFilteredData;
    private getParsedValue;
    private removefilteredData;
    private validateFilteredParentData;
    private updateFramedHeaders;
    private validateFilteredHeaders;
    private isEmptyDataAvail;
    /** @hidden */
    updateGridData(dataSource: IDataOptions): void;
    generateGridData(dataSource: IDataOptions, headerCollection?: HeaderCollection): void;
    /** @hidden */
    onDrill(drilledItem: IDrilledItem): void;
    /** @hidden */
    onSort(sortItem: ISort): void;
    /** @hidden */
    onFilter(filterItem: IFilter, dataSource: IDataOptions): void;
    /** @hidden */
    onAggregation(field: IFieldOptions): void;
    /** @hidden */
    onCalcOperation(field: ICalculatedFields): void;
    private performDrillOperation;
    private performSortOperation;
    private performFilterDeletion;
    private matchIndexes;
    private performFilterAddition;
    private performFilterCommonUpdate;
    private getHeadersInfo;
    /** @hidden */
    updateEngine(): void;
    private getAxisByFieldName;
    private getFieldByName;
    private updateHeadersCount;
    /** @hidden */
    frameHeaderWithKeys(header: any): IAxisSet;
    private getSortedHeaders;
    /** @hidden */
    applyValueSorting(rMembers?: IAxisSet[], cMembers?: IAxisSet[]): ISortedHeaders;
    private getMember;
    private sortByValueRow;
    private insertAllMembersCommon;
    private insertSubTotals;
    private frameDrillObject;
    private getIndexedHeaders;
    private getOrderedIndex;
    private insertPosition;
    private insertTotalPosition;
    private calculatePagingValues;
    private performSlicing;
    private removeChildMembers;
    private insertAllMember;
    private getTableData;
    private getAggregatedHeaders;
    private getAggregatedHeaderData;
    private updateSelectedHeaders;
    private applyAdvancedAggregate;
    private updateAggregates;
    private recursiveRowData;
    private updateRowData;
    private getCellSet;
    private getHeaderData;
    private getAggregateValue;
    private evaluate;
    /** hidden */
    getFormattedValue(value: number | string, fieldName: string): IAxisSet;
    private powerFunction;
}
export interface IDataOptions {
    catalog?: string;
    cube?: string;
    providerType?: ProviderType;
    url?: string;
    localeIdentifier?: number;
    dataSource?: IDataSet[] | DataManager;
    rows?: IFieldOptions[];
    columns?: IFieldOptions[];
    values?: IFieldOptions[];
    filters?: IFieldOptions[];
    excludeFields?: string[];
    expandAll?: boolean;
    valueAxis?: string;
    filterSettings?: IFilter[];
    sortSettings?: ISort[];
    enableSorting?: boolean;
    formatSettings?: IFormatSettings[];
    drilledMembers?: IDrillOptions[];
    valueSortSettings?: IValueSortSettings;
    calculatedFieldSettings?: ICalculatedFieldSettings[];
    allowMemberFilter?: boolean;
    allowLabelFilter?: boolean;
    allowValueFilter?: boolean;
    showSubTotals?: boolean;
    showRowSubTotals?: boolean;
    showColumnSubTotals?: boolean;
    showGrandTotals?: boolean;
    showRowGrandTotals?: boolean;
    showColumnGrandTotals?: boolean;
    showHeaderWhenEmpty?: boolean;
    alwaysShowValueHeader?: boolean;
    conditionalFormatSettings?: IConditionalFormatSettings[];
    emptyCellsTextContent?: string;
    groupSettings?: IGroupSettings[];
}
export interface IConditionalFormatSettings {
    measure?: string;
    conditions?: Condition;
    value1?: number;
    value2?: number;
    style?: IStyle;
    label?: string;
    applyGrandTotals?: boolean;
}
export interface IStyle {
    backgroundColor?: string;
    color?: string;
    fontFamily?: string;
    fontSize?: string;
}
export interface IValueSortSettings {
    headerText?: string;
    headerDelimiter?: string;
    sortOrder?: Sorting;
    /**
     * @blazorType Nullable<int>
     */
    columnIndex?: number;
    measure?: string;
}
export interface IPageSettings {
    columnSize?: number;
    rowSize?: number;
    columnCurrentPage?: number;
    rowCurrentPage?: number;
    allowDataCompression?: boolean;
}
/**
 * @hidden
 */
export interface IMatrix2D {
    [key: number]: {
        [key: number]: number;
    };
    length: number;
    push(item: number): number;
}
/**
 * @hidden
 */
interface ISortedHeaders {
    rMembers: IAxisSet[];
    cMembers: IAxisSet[];
}
/**
 * @hidden
 */
export interface IFilterObj {
    [key: string]: {
        memberObj: IStringIndex;
    };
}
/**
 * @hidden
 */
export interface IIterator {
    [key: string]: {
        index: number[];
        indexObject: INumberIndex;
    };
}
/**
 * @hidden
 */
export interface INumberIndex {
    [key: string]: number;
}
/**
 * @hidden
 */
export interface INumberArrayIndex {
    [key: string]: number[];
}
/**
 * @hidden
 */
export interface IStringIndex {
    [key: string]: string;
}
/**
 * @hidden
 */
export interface IPivotValues {
    [key: number]: IPivotRows;
    length: number;
}
/**
 * @hidden
 */
export interface IPivotRows {
    [key: number]: number | string | Object | IAxisSet;
    length: number;
}
/**
 * @hidden
 */
export interface IGridValues {
    [key: number]: IAxisSet[];
    length: number;
}
/**
 * @hidden
 */
export interface ISelectedValues {
    [key: number]: IAxisSet;
}
/**
 * @hidden
 */
export interface IDataSet {
    [key: string]: string | number | Date;
}
export interface IFieldOptions {
    name?: string;
    caption?: string;
    type?: SummaryTypes;
    axis?: string;
    showNoDataItems?: boolean;
    baseField?: string;
    baseItem?: string;
    /**
     * @blazorType Nullable<bool>
     */
    showSubTotals?: boolean;
    isNamedSet?: boolean;
    isCalculatedField?: boolean;
}
export interface ISort {
    name?: string;
    order?: Sorting;
}
export interface IFilter {
    name?: string;
    type?: FilterType;
    items?: string[];
    condition?: Operators;
    value1?: string | Date;
    value2?: string | Date;
    showLabelFilter?: boolean;
    showDateFilter?: boolean;
    showNumberFilter?: boolean;
    measure?: string;
    levelCount?: number;
    selectedField?: string;
}
export interface IDrillOptions {
    name?: string;
    items?: string[];
    delimiter?: string;
}
export interface ICalculatedFieldSettings {
    name?: string;
    formula?: string;
    hierarchyUniqueName?: string;
    formatString?: string;
}
export interface ICalculatedFields extends ICalculatedFieldSettings {
    actualFormula?: string;
}
export interface IFormatSettings extends NumberFormatOptions, DateFormatOptions {
    name?: string;
}
/**
 * @hidden
 */
export interface IMembers {
    [index: string]: {
        ordinal?: number;
        index?: number[];
        name?: string;
        isDrilled?: boolean;
        isNodeExpand?: boolean;
        parent?: string;
        caption?: string;
        isSelected?: boolean;
    };
}
/**
 * @hidden
 */
export interface IFieldListOptions {
    [index: string]: IField;
}
export interface IField {
    id?: string;
    caption?: string;
    type?: string;
    formatString?: string;
    /**
     * @blazorType int
     */
    index?: number;
    /**
     * @blazorType Dictionary<string, IMembers>
     */
    members?: IMembers;
    /**
     * @blazorType Dictionary<string, IMembers>
     */
    formattedMembers?: IMembers;
    /**
     * @blazorType List<IDateMembers>
     */
    dateMember?: IAxisSet[];
    filter?: string[];
    sort?: string;
    aggregateType?: string;
    baseField?: string;
    baseItem?: string;
    filterType?: string;
    format?: string;
    formula?: string;
    isSelected?: boolean;
    isExcelFilter?: boolean;
    showNoDataItems?: boolean;
    isCustomField?: boolean;
}
export interface IAxisSet {
    formattedText?: string;
    actualText?: number | string;
    type?: string;
    isDrilled?: boolean;
    hasChild?: boolean;
    /**
     * @blazorType List<IAxisSet>
     */
    members?: this[];
    /**
     * @blazorType List<int>
     */
    index?: number[];
    /**
     * @blazorType SortedDictionary<int,int>
     */
    indexObject?: INumberIndex;
    ordinal?: number;
    /**
     * @blazorType int
     */
    level?: number;
    axis?: string;
    value?: number;
    /**
     * @blazorType int
     */
    colSpan?: number;
    /**
     * @blazorType int
     */
    rowSpan?: number;
    /**
     * @blazorType Dictionary<string,object>
     */
    valueSort?: IDataSet;
    /**
     * @blazorType int
     */
    colIndex?: number;
    rowIndex?: number;
    columnHeaders?: string | number | Date;
    rowHeaders?: string | number | Date;
    isSum?: boolean;
    isLevelFiltered?: boolean;
    cssClass?: string;
    style?: IStyle;
    enableHyperlink?: boolean;
    /**
     * @blazorType Nullable<bool>
     */
    showSubTotals?: boolean;
    /**
     * @blazorType string
     */
    dateText?: number | string;
    memberType?: number;
    parentUniqueName?: string;
    levelUniqueName?: string;
    hierarchy?: string;
    colOrdinal?: number;
    rowOrdinal?: number;
    isNamedSet?: boolean;
}
export interface IDrilledItem {
    fieldName: string;
    memberName: string;
    axis: string;
    action: string;
    delimiter: string;
    currentCell?: IAxisSet;
}
export interface ICustomProperties {
    mode?: string;
    savedFieldList?: IFieldListOptions;
    pageSettings?: IPageSettings;
    enableValueSorting?: boolean;
    isDrillThrough?: boolean;
    localeObj?: L10n;
    fieldsType?: IStringIndex;
}
export interface IGroupSettings {
    name?: string;
    groupInterval?: DateGroup[];
    /**
     * @blazorType string
     */
    startingAt?: Date | number | string;
    /**
     * @blazorType string
     */
    endingAt?: Date | number | string;
    /**
     * @blazorType int
     */
    rangeInterval?: number;
    type?: GroupType;
    caption?: string;
    customGroups?: ICustomGroups[];
}
export interface ICustomGroups {
    groupName?: string;
    items?: string[];
}
export interface IGroupRange {
    range?: string;
    isNotInRange?: boolean;
    value?: Date | number;
}
export {};
